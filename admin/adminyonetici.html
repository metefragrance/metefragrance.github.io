<!doctype html>
<html lang="tr">
<meta charset="utf-8">
<title>Admin – GitHub API</title>
<style>
body{background:#0e0e0e;color:#fff;font-family:Arial;padding:30px}
input,button{width:100%;padding:10px;margin-top:10px;background:#000;color:#fff;border:1px solid #333}
</style>

<h2>➕ Ürün Ekle (GitHub API)</h2>

<input id="name" placeholder="Ürün adı">
<input id="price" placeholder="Fiyat">
<input id="img" placeholder="Resim URL">
<input id="link" placeholder="Shopier link">

<button onclick="send()">Siteye Ekle</button>

<script>
const OWNER = "metefragrance";              // GitHub username
const REPO  = "metefragrance.github.io";   // repo adı
const TOKEN = prompt("GitHub Token gir");  // SADECE LOCAL

function send(){
  fetch(`https://api.github.com/repos/${OWNER}/${REPO}/dispatches`,{
    method:"POST",
    headers:{
      "Accept":"application/vnd.github+json",
      "Authorization":"Bearer " + TOKEN,
      "Content-Type":"application/json"
    },
    body:JSON.stringify({
      event_type:"update_products",
      client_payload:{
        name:name.value,
        price:price.value,
        img:img.value,
        link:link.value
      }
    })
  }).then(()=>{
    alert("Eklendi. 1–2 dk içinde yayında.");
  });
}
</script>
</html>
